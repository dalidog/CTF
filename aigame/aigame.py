import pickle
import zlib
import sklearn.tree


def embed(c): return "wasdx .#F".index(c)


# c_actions = ["789c85d60d884d411407f07df32e11d18a8868b5e2114b44444444444444369fab6b88b0da8d68452b7a3ee2ad88888888888828a594524a29a594524a29a59452bcfbe6cecc3967ceccecab6d777e6feeccfdcf99b9b723e93a595f57fb69ae944ae5427ba55c68aca422fb940b4dd5ff1ab2ff9254b456ffde5ce9ac94d2ee8ad362f5936404b127c2ecafc4626f8209c4bee4b208fb8570400807857048088785707808478470148f1b6a380660d1e29e1a8e33cda8a7c209a659a3b03809a0b0c12b9c629a99cb4e33cd68c914ce30cd4ccf59a827c139ce6c01ce0be1028442579f8a6f9101537f1697e88bd9cab5b84cdd5b1e3db9cf15a6598700b25d659a75b600d79866069b1d0463ae07e884b02994ed163e3e557d5b0d31b89de48370670877f3a826b4d73433d84ed613e17e5460040f82e09d5539e4ac0ae8792494ed5152f1e8783b6e2ecae089bc89c5d3cec108f06c08cf85f042082f85f04a08af85f0469e288bb7f28dc4e21db0c700b6d5f01ed89ff957ecfe7c90933e1aab1fdbf311e8997fc5f67c4276b6803d9f01043d15be0063e6bf2dbe74c604f80a6182f17508dfe41362f1adaa7258a016df01147442ef1d04c17f002138f8d14908e02707c199f0199d0945bd3f157e2107062a93af08490d7de3514de83bcab68843f8110afe67087f85f0777e032cfe01eb2928fe450596e06cffa14ac0d94a51a8ab73e2b55796ddac7351c81e990bb38fc1b4d5f57b5927d757de87ba799c2aaf771d2ea2ec4f1d2fb21c18f1c19c83f90d751dcdbf819b3ff0c6888f8cf8e8888f8df8f8884f8cf864afd71e72726ae6fea7b29caeeac7f742296762a74f58395bbb3eac88cf55f3f3bd3ccaf9d6b91703b9d08ecff65f4cfb135fcadd9f7ddcc8e57affd87749e42bf1fe727cb5d7d5f86bf5f8e668c4be8ede1f7ebd911b717e82ae4f8b7691269ca7767dac83f1b76177f2dbe1cd4ff92eafabfa6c55f587d281de46cf3772fd7d91fa3d40c727f97670f9023f4ceb93e4df49f327fd8fd9fcd9fa2cbbf58dceb7533a1fcff97746cddf7b3e7645cecff311bf18f1cb11bf1af1eb11bf19f1dbdaf997047957b937bffb91fc1e46c67f1c19ffa91edfe3cf697d236f69fa0fab27ec07",
#            "789c85d7798c4d571800f079e75d6b8baaad14a5a335b6b154376bed5badb5ef7b9fa3a596da97b1b618fb1b2184104208d1104208218410420821841042481b42481b3aef9d7beff9beef9c7bbe997fe69ddf9ced3bdffdee79395edeb80a19e99f41c9acacdcd8b4646e2c339910a9dfdc5876fea72aa94f5e424cceff7b647271322b515071229effeba508621184a9bf3c8d1f12f4209620c322fcd885655cf8890b3f75616517567561353b4e4a63f5b0d98235c3e60085c63a00850e9fc27a61b365d8afc266147885df84cd969edfa39e049ba0d592619bbb866de95a501bd49360fbb0d9829d5cd8c54010dbee00055d6dcfb0196d65581afb84410f8f5b63ffe021b0e120fff15148563b346cb66c65846b9fa35dfb1c83f649f097b0d982e30d04734e04681cf6efe4b051c198162ec78233fd262bce314a0dc0792e5ce8c23f5cb8d485cbd151135ce5a79515d7fa9960c575ae206c702d68936b415bec0b9a9ac66deaf461626bdc01d0ff178dbb0c04c3eef1e7b4e23e801ec5bf0c04731e0c6a2546b5cfc33ec6fdada04a7d142129e3c75d78d285a75d78d685e74126f83bd605e322e809aa890ac2653ff05e7864718d5751e03d1cbeebaec0df7405fe364a138277c1a91869723fd8ba6dce8708c3d5aa203c06e8b3c6a70682399f1bc38208fd639f53e14b17be4ee8326ee05b3f7c9e2df0ffa1bcf57010de839e34b652c432328ccec00ba45c848f3f7d286461edb6e7427e401da7a92c6e735d5c6449d361f191a5a9e3e224cb315ec1e6607d954c47ebafc2ec2f93f12f19afc1786dc6eb32de80f1af233dfd4a96dfa53cfa1e2a1babfc8af466d4f16541b6d06ebb2fc8d66a7d515706d92ef088f13bd2f149ffce7a7cebfabb31fbfb89f1de8cf7637c20e343181fcef828c613919eaea3726c505fecf75a394ed71fab4f887435ffe460fea0f690fc988acfd738ff193a3ff4f9039f8dcfdff09c607ce860fe05d88df82d36f31fd5a725eaf98abad3c95cd53fb2bead64eadf1ac6f3185fcff846c637076ebf5ccaadca23f7bf9dd9ff4e66feddccfc7b83f9237cbfce4fab1f60fc10e347183f16e9eafd7d023f3ff40a2e4f5127efff338c9f63fc02e39718bfc2f835c66f307e8bf13b8cdf63fc01e38f187fc2f8339dbfc4557efc4df397dccf5e04e31bdf14d4f8aff4f3a7aa58fabfb4bfd1fd4195d4feaf762f617e5793efe8f8a47f4cb8c7f7847bfc4202c5cfe85f5490fb6de82a3ec5b407f143f7c38fa893fb6129ea1ef6b28c9767bc62a4abf7cb67c27d3ffb5cb8df3f5f08fffd03eb0b983f4b90fc21efd75ac1fcfa8b3caa4fd9667f743ef5e9f992fc6b88cf0f9cafba3f7c8be3e39fa1f646d4f19744d9d474d4ff079b83fead186f4b5d60ef60ae5f40ff11ef3faef7afe2df3538df388d8ff21e811bcf8ff25eda85ad7f5f61dc8f900f60c61fcc8c3f8c8e1fc73e52f727f54bf9cf3affacf73749d747fc57c67f637c12e353189fcef82cc6e7323e9ff1458cffc9f832c65730bedae9a3b2ff079a51486d"]
c_actions = "789c85d60d884d411407f07df32e11d18a8868b5e2114b44444444444444369fab6b88b0da8d68452b7a3ee2ad88888888888828a594524a29a594524a29a59452bcfbe6cecc3967ceccecab6d777e6feeccfdcf99b9b723e93a595f57fb69ae944ae5427ba55c68aca422fb940b4dd5ff1ab2ff9254b456ffde5ce9ac94d2ee8ad362f5936404b127c2ecafc4626f8209c4bee4b208fb8570400807857048088785707808478470148f1b6a380660d1e29e1a8e33cda8a7c209a659a3b03809a0b0c12b9c629a99cb4e33cd68c914ce30cd4ccf59a827c139ce6c01ce0be1028442579f8a6f9101537f1697e88bd9cab5b84cdd5b1e3db9cf15a6598700b25d659a75b600d79866069b1d0463ae07e884b02994ed163e3e557d5b0d31b89de48370670877f3a826b4d73433d84ed613e17e5460040f82e09d5539e4ac0ae8792494ed5152f1e8783b6e2ecae089bc89c5d3cec108f06c08cf85f042082f85f04a08af85f0469e288bb7f28dc4e21db0c700b6d5f01ed89ff957ecfe7c90933e1aab1fdbf311e8997fc5f67c4276b6803d9f01043d15be0063e6bf2dbe74c604f80a6182f17508dfe41362f1adaa7258a016df01147442ef1d04c17f002138f8d14908e02707c199f0199d0945bd3f157e2107062a93af08490d7de3514de83bcab68843f8110afe67087f85f0777e032cfe01eb2928fe450596e06cffa14ac0d94a51a8ab73e2b55796ddac7351c81e990bb38fc1b4d5f57b5927d757de87ba799c2aaf771d2ea2ec4f1d2fb21c18f1c19c83f90d751dcdbf819b3ff0c6888f8cf8e8888f8df8f8884f8cf864afd71e72726ae6fea7b29caeeac7f742296762a74f58395bbb3eac88cf55f3f3bd3ccaf9d6b91703b9d08ecff65f4cfb135fcadd9f7ddcc8e57affd87749e42bf1fe727cb5d7d5f86bf5f8e668c4be8ede1f7ebd911b717e82ae4f8b7691269ca7767dac83f1b76177f2dbe1cd4ff92eafabfa6c55f587d281de46cf3772fd7d91fa3d40c727f97670f9023f4ceb93e4df49f327fd8fd9fcd9fa2cbbf58dceb7533a1fcff97746cddf7b3e7645cecff311bf18f1cb11bf1af1eb11bf19f1dbdaf997047957b937bffb91fc1e46c67f1c19ffa91edfe3cf697d236f69fa0fab27ec07"
c_actions2 = "789c85d7098c4d571800e07967aeb5f65a6a6cc3584631aaf6b5f69dd2cd526329d33ec7beced8a796b1e409e18d104208211a42346d2a154208216d2a84104208216dda5408219877cfbdf79cffdcfffeffbc64f2def9de7fef39ff3dcbff0a9de24a1969ee5f6e323b3b112b48266259c9b848bd12b19c924f99a94f4e5ccc2f793f255994cc8e97561c4f2f79392932b11cc0d43b4763050b1d132b5b9705588dc21a147e44611d0aeb53d890c2c638ce73b159d08ce0c741b38f42632b03854e9fc24f8266e4b26d83669078851d826624b23388b4b05ba8b7067e46616f0afb513890c221140ea77024855f51380ac7492e8e0d1e57bafb1f44e606cdfe53311ef6c4a01979d8938366e4797e6f4486702a406b28d3a9873d0b8c53c0653f37200417781743b140cd721c97784d282e0f6d3506fee8250dc5d52a2b38aea53ab481ead046aa439ba90e6da53ab48d4adf0e0a7751b887c27d38e6bb78c09f1c2eba5fd17808a003f1270a8f52789cc29f29fc95c2936ad9e178ca43e12d5d806700baff359ea3f0028597bc9980e21523d2b1f14f6f94c6cea0f12a488215791dcf90dac16e1ae8b18ebc1d8a34f0aed71d34b7f7bd713a586e1f1a43f1bea2f1b111e9d8e37c1a8a34f01f6f7d5a916ac6ff0716af1badf1194007e28b101a0be995856095bda1368c77044a114b4b0bb9ee932c1576b3cfb2aced704cf203c62b315e95f1ea91eece3a590b7abaed198cd7633c93f12cdbe1312a9ba6dc97f061299babf8a8524eb64cb959cd59f1ad7d1746bce19fc2f890b7b71d5617b2937681ddbfabdfffd0fd557e7af8f9094e00e8bd74fe50efab1d2b8de400fffe667564f8609d5fac7a92c3a00bdb47e8f1610596fc127ae8fedf60f7377c0ce3e3189fc0f8778ce7311e8f74b53ea7a9f96d6efbc067aaf913e973189fcf783ee38b195fc67821e3ab182f627c3de3894857cf6793bfbf44acef2dccfa2f667c7b787f00e7cb4efff9479c3fbb557c54412bf7aaf9e544f97e7bfc961f64fc30e347183fc6f809c67f61fc37c67f67fc34e367193f1fe96e29242f6ac7aa7879d976584ac93f18ff8bf16b8cdf60fc16e377fcf987979ff29e1f8f57f7f201bcbe5d89cb47d8fd0d7fc2f4ef6fc6ff8d74757efe0fdd2ecce5732cdef0977a7da2f77fade3b1525abeb5af0feb701913417ed1eb3bd043f92f23acfc5bf92d2fe8fc57c4dcb87e1501ea13c3d5faf9503bf68340d6b4dd1d8bf6da6107f5795ddbadf3b701767dc31b31de84f16cc65b44ba3a3f72047d3eb51174fdd94e3b5a7f751474fdd5c5f788faa6bbed0ebc7f4fed68fdddc7ef5f44fddddf1e9fe583181fcaf8e78c7fc1f8d78c8f66fc5bc6c747ba9a3f93045d3f4ed1eb13f51f18978ccf607c36e3f3225d8d7f2133ff1731f95bcaf80ac65732f95fe3e7dff87565ceff757efff5fe6b785ece7be1782f4e"
c_actions3 = [c_actions, c_actions2]
for i in c_actions3:
    actions = pickle.loads(zlib.decompress(bytes.fromhex(i)))
# actions = pickle.loads(zlib.decompress(bytes.fromhex(c_actions)))
X, Y = zip(*actions)
X = [[embed(c) for c in x] for x in X]
Y = [embed(y) for y in Y]

# train any scikit-learn classification model
clf = sklearn.tree.DecisionTreeClassifier()
clf.fit(X, Y)

cmodel = zlib.compress(pickle.dumps(clf)).hex()
print(cmodel)
